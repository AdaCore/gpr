
def do(SM_A, SM_B):

#    init_state_index = index.map_state_combination_to_index((SM_A.init_state_index, 
#                                                             SM_B.init_state_index))
#    result           = StateMachine(InitStateIndex = init_state_index,
#                                    InitState      = State(AcceptanceF=SM_A.get_init_state().is_acceptance()))
#
#    backup_init_state_index = SM_A.init_state_index
#
#    work_stack = [ SM_A.init_state_index ]
#    done_set = set()
#    while len(work_set) != 0:
#        state_index = work_set.pop()
#
#        walker = WalkAlong(SM_A, SM_B, result)
#        result.mount_cloned_until(SM_A, operation_index, state_index)
#        walker.do((state_index, SM_B.init_state_index))
#
#        next
#
#
#    for state_index, state in SM_A.iter
#    all_star      = repeat.do(special.get_any(), min_repetition_n=0)
#    sm_b_repeated = repeat.do(SM_B, min_repetition_n=1)
#
#    tmp = sequentialize.do([all_star, sm_b_repeated], 
#                           MountToFirstStateMachineF=True, 
#                           CloneRemainingStateMachinesF=True)
#
#    tmp = beautifier.do(tmp)
#
#    # There might be many paths which have no hope to reach acceptance
#    tmp.clean_up()
    return

    # return cut_begin.do(SM_A, tmp)
